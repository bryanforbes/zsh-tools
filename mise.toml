experimental_monorepo_root = true

[settings]
python.uv_venv_auto = true
task.monorepo_exclude_dirs = [
  '.*',
  'node_modules',
  'target',
  'dist',
  'build',
  'vendor/zsh',
]

[env]
_.python.venv = { path = ".venv", create = true }

[tasks.init-dev]
description = "Initialize development environment"
depends = ['//:init-dev:*']

[tasks."init-dev:pnpm"]
description = "Initialize node modules"
run = 'pnpm install'

[tasks."init-dev:uv"]
description = "Initialize uv"
run = 'uv sync --all-extras'

[tasks.build]
description = "Build everything"
depends = '//...:build:*'

[tasks.test]
description = "Run all tests"
depends = '//...:test:*'
